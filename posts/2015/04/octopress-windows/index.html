<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>隨意雜記 (Casual Notes) | Octopress on&nbsp;Windows</title>
    <link rel="shortcut icon" type="image/png" href="https://rickhau.github.io/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://rickhau.github.io/favicon.ico">
    <link href="https://rickhau.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="隨意雜記 (Casual Notes) Full Atom Feed" />
    <link href="https://rickhau.github.io/feeds/blog.atom.xml" type="application/atom+xml" rel="alternate" title="隨意雜記 (Casual Notes) Categories Atom Feed" />
    <link rel="stylesheet" href="https://rickhau.github.io/theme/css/screen.css" type="text/css" />
    <link rel="stylesheet" href="https://rickhau.github.io/theme/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://rickhau.github.io/theme/css/print.css" type="text/css" media="print" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="rickhau" />

</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="https://rickhau.github.io">Home</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="https://rickhau.github.io">隨意雜記 (Casual Notes)</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Apr 26, 2015</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://rickhau.github.io/posts/2015/04/octopress-windows" rel="bookmark" title="Permanent Link to &quot;Octopress on&nbsp;Windows&quot;">Octopress on&nbsp;Windows</a>
                </h2>

                
                

                <h2>Environment</h2>
<p>Windows&nbsp;7</p>
<h3>Pre-requisite</h3>
<ul>
<li>This article is to setup my Windows 7 environment to write blog&nbsp;posts    </li>
<li>Use octopress environment pushed by&nbsp;MacOS</li>
<li>You have python 2.7 installed on your Windows&nbsp;7</li>
<li>Remaining taks on Windows&nbsp;7:</li>
<li>Install&nbsp;RubyInstaller    </li>
<li>Clone git repository&nbsp;:octocat:    </li>
<li>Configure and continue the&nbsp;post    </li>
</ul>
<h3>Configure&nbsp;environment</h3>
<h4><span class="caps">STEP</span> 1: Install&nbsp;RubyInstaller</h4>
<ul>
<li>Download and install&nbsp;rubyinstaller.exe  </li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://rubyinstaller.org/downloads/">rubyinstaller</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;I picked up ruby-2.1.4(x64) to&nbsp;install  </p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://dl.bintray.com/oneclick/rubyinstaller/rubyinstaller-2.1.4-x64.exe">2.1.4(x64)</a>   </p>
<h4><span class="caps">STEP</span> 2: Install Ruby Development&nbsp;Kit</h4>
<ul>
<li>Download and install <code>DevKit-mingw64-64-4.7.2-20130224-1432-sfx</code></li>
</ul>
<p>I installed Ruby 2.1.4(x64), so the development kit I have to use&nbsp;is:    </p>
<p><a href="http://dl.bintray.com/oneclick/rubyinstaller/DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe">For use with Ruby 2.0 and 2.1 (x64 - 64bits&nbsp;only)</a></p>
<p>I extract to <code>C:\Ruby21-Devkit</code> where my ruby was installed under <code>C:\Ruby21-x64</code></p>
<h4><span class="caps">STEP</span> 3: Create ruby&nbsp;config.yml</h4>
<ul>
<li>Open your windows&nbsp;terminal </li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>   &gt; cd C:\Ruby21-Devkit    
   &gt; ruby dk.rb init
   # This will generate a config.yml
</pre></div>
</td></tr></table>

<ul>
<li>Edit config.yml to add where you install the&nbsp;ruby</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    ---
    - C:/Ruby21-x64
</pre></div>
</td></tr></table>

<ul>
<li>Install&nbsp;it</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    &gt; ruby dk.rb install
</pre></div>
</td></tr></table>

<h4><span class="caps">STEP</span> 4: Update&nbsp;gem</h4>
<ul>
<li>Run the following&nbsp;command:</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    &gt; gem update --system
</pre></div>
</td></tr></table>

<p>Then, you will see the following&nbsp;messages:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed
</pre></div>
</td></tr></table>

<ul>
<li>Solve the <span class="caps">SSL</span>&nbsp;issue    </li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    # To get what gem version you have installed
   &gt; gem --version
</pre></div>
</td></tr></table>

<p>1) Download RubyGems based on the gem version you have&nbsp;installed. </p>
<p>Picked up 2.2.x due to my system reports 2.2.2  <br>
   * <a href="https://github.com/rubygems/rubygems/releases/tag/v2.2.3">2.2.x</a>    </p>
<p>Others:  <br>
   * <a href="https://github.com/rubygems/rubygems/releases/tag/v1.8.30">1.8.x</a> <br>
   * <a href="https://github.com/rubygems/rubygems/releases/tag/v2.0.15">2.0.x</a></p>
<p>2) Run the following&nbsp;commands:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    C:\&gt;gem install --local C:\rubygems-update-1.8.30.gem
    C:\&gt;update_rubygems --no-ri --no-rdoc
    C:\&gt;gem uninstall rubygems-update -x
</pre></div>
</td></tr></table>

<p>Congratulations! </p>
<p>3) Now, let&#8217;s update&nbsp;gem  </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>     gem update --system
</pre></div>
</td></tr></table>

<p>Reference&nbsp;link:</p>
<blockquote>
<ul>
<li><a href="https://gist.github.com/luislavena/f064211759ee0f806c88"><span class="caps">SSL</span>&nbsp;issue</a></li>
</ul>
</blockquote>
<h4><span class="caps">STEP</span> 5: Clone your git&nbsp;repository</h4>
<ul>
<li>Please git clone your &#8220;source&#8221; branch not &#8220;master&#8221; branch  <br>
  You can configure your github page using &#8220;source&#8221; as the default&nbsp;branch</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    &gt; git clone https://github.com/rickhau/rickhau.github.io.git
    &gt; cd rickhau.github.io
    &gt; gem install bundler
    &gt; bundle install
</pre></div>
</td></tr></table>

<ul>
<li>Preview your existing&nbsp;posts</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    &gt; rake preview
</pre></div>
</td></tr></table>

<p>Go to http://localhost:4000 to browse your old&nbsp;posts</p>
<h4><span class="caps">STEP</span> 6: Write your new&nbsp;post</h4>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    &gt; rake new_post[&quot;Your new post title&quot;]
</pre></div>
</td></tr></table>

<p>Go to <code>source\_posts\</code> directory to edit your new markdown file for new&nbsp;article.</p>
<h4><span class="caps">STEP</span> 7: Configure the <span class="caps">UTF</span>-8&nbsp;encoding</h4>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    set LC_ALL=zh_TW.UTF-8
    set LANG=zh_TW.UTF-8
</pre></div>
</td></tr></table>

<ul>
<li>Or you can write it in the .bat script to help you set the encoding&nbsp;automatically</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    @echo off
    set LC_ALL=zh_TW.UTF-8
    set LANG=zh_TW.UTF-8
    rake generate
    rake preview
</pre></div>
</td></tr></table>

<h4><span class="caps">HAPPY</span> <span class="caps">WRITING</span>!!!!</h4>
                <div class="clear"></div>

                <div class="info">
                    <a href="https://rickhau.github.io/posts/2015/04/octopress-windows">posted at 17:18</a>
                    &nbsp;&middot;&nbsp;<a href="https://rickhau.github.io/category/blog.html" rel="tag">blog</a>
                </div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'rickhau-github-io';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </article>
            <div class="clear"></div>
            <footer>
                 <p>
                     Copyright by rickhau
                     &middot;
                     Licensed @
                     <a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
					&middot;
					<a href="https://rickhau.github.io/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
					 
                 </p>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
<!-- Add addsense.html  -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-7683780377655294",
    enable_page_level_ads: true
  });
</script></body>
</html>